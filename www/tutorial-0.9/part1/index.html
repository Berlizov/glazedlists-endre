<html>
<head><title>Glazed Lists Tutorial Part 1 - Basics</title>
</head>
<body>
<div class="app">

<h3>Glazed Lists Tutorial</h3>
<h1>Part 1 - Basics</h1>

<p>In this tutorial we are going to build a program for browsing a list
of issues. We will demonstrate the features of Glazed Lists in this
program and provide the source code to use these features. In part one
of this tutorial we discuss Glazed Lists and build a simple application
that displays our list of issues within a JList.


<h3>EventList, like ArrayList or Vector</h3>

<p>The <code>EventList</code> interface extends the familiar
<code>java.util.List</code> interface. This means it has the same
<code>add()</code>, <code>set()</code> and <code>remove()</code> methods
found in <code>ArrayList</code> and <code>Vector</code>.

<p>But there are some differences between <code>EventList</code>s and the
plain <code>java.util.List</code>:
<li><strong>Event listeners</strong>: In order to propagate changes from a
source list to its various display widgets and transformations,
<code>EventList</code>s fire events when modified. 
<li><strong>Concurrency</strong>: <code>EventList</code>s may be
accessed by multiple threads simultaneously so they provide easy-to-use
and powerful locks.


<h3>JList, JComboBox and JTable: Widgets with models</h3>

<p>Swing is a user interface toolkit that uses the Model-View-Controller design
pattern throughout. This allows a Swing developer to focus on the data in a
component independent of how that data is displayed.

<p>With Glazed Lists, the <code>EventListModel</code> class provides a
<code>ListModel</code> to populate a JList widget from any <code>EventList</code>.
Then as you <code>add()</code> and <code>remove()</code> on your
<code>EventList</code>, the JList widget responds automatically. Similarly
the <code>EventTableModel</code> will populate a <code>JTable</code> and the
<code>EventComboBoxModel</code> will populate a <code>JComboBox</code>.
 

<h3>A simple issue browser</h3>

<p>We use Glazed Lists to display our issue list in a few simple steps. We
create a <code>BasicEventList</code> and populate it with a <code>Collection</code>
of issues. Then we create a <code>EventListModel</code> and specify that as
the model for our <code>JList</code> widget. Finally we display it all on
screen.

<p><table cellpadding="5" cellspacing="0" width="100%" border="1" bgcolor="#EEEEEE"><tr><td><pre><code>import java.util.*;
import java.io.*;
import java.net.*;
import javax.swing.*;
import java.awt.GridBagLayout;
import java.awt.GridBagConstraints;
import java.awt.Insets;
// glazed lists
import ca.odell.glazedlists.*;
import ca.odell.glazedlists.swing.*;

/**
 * An IssueBrowser is a program for finding and viewing issues.
 * 
 * @author &lt;a href="mailto:jesse@odel.on.ca"&gt;Jesse Wilson&lt;/a&gt;
 */
public class IssuesBrowser {
    
    // create an event list to host the issues
    <font color="#FF3333">EventList issuesEventList = new BasicEventList();</font>
    
    /**
     * Load the issues from the specified URL.
     */
    public void load(String issuesUrl) {
        try {
            InputStream issuesIn = new URL(issuesUrl).openConnection().getInputStream();
            Collection sourceIssues = Issue.parseIssuezillaXML(issuesIn);
            <font color="#FF3333">issuesEventList.addAll(sourceIssues);</font>
        } catch(IOException e) {
            e.printStackTrace();
        }
    }
    
    /**
     * Display a frame for browsing issues.
     */
    public void display() {
        // create a panel with a table
        JPanel panel = new JPanel();
        panel.setLayout(new GridBagLayout());
        <font color="#FF3333">EventListModel issuesListModel = new EventListModel(issuesEventList);</font>
        <font color="#FF3333">JList issuesJList = new JList(issuesListModel);</font>
        JScrollPane issuesListScrollPane = new JScrollPane(issuesJList);
        panel.add(issuesListScrollPane, new GridBagConstraints(...));
        
        // create a frame with that panel
        JFrame frame = new JFrame("Issues");
        frame.setDefaultCloseOperation(WindowConstants.EXIT_ON_CLOSE);
        frame.setSize(540, 380);
        frame.getContentPane().add(panel);
        frame.show();
    }
    
    public static void main(String[] args) {
        if(args.length != 1) {
            System.out.println("Usage: IssueBrowser &lt;issues url&gt;");
            return;
        }

        // load the issues and display the browser
        String issuesUrl = args[0];
        IssuesBrowser browser = new IssuesBrowser();
        browser.load(issuesUrl);
        browser.display();
    }
}</code></pre></td></tr></table>

<p><img src="screenshot.png" width="540" height="380" alt="Issues Browser">


<h3>So What?</h3>
<p>So far we haven't taken advantage of the advanced features of Glazed Lists. But
with this simple framework in place we can easily add filtering and sorting to the
list. We can make changes to the display widget simply by making changes to its
source list. Should we decide to display our issues in a different widget such as a
<code>JTable</code> or <code>JComboBox</code>, that is now easy as well.


</div>
</body>
</html>
