<html>
<head><title>Glazed Lists Tutorial Part 3 - Text Filtering</title>
</head>
<body>
<div class="app">

<h3>Glazed Lists Tutorial</h3>
<h1>Part 3 - Text Filtering</h1>

<p>In part three of this tutorial we add a widget to filter the list of issues.
This widget is a simple <code>JTextField</code> and is inspired by a similar
widget found in <a href="http://www.apple.com/">Apple iTunes</a>. As the user types
text into the field, only rows that contain that text are shown. This is a fast
and easy way to find a needle in a haystack!

<h3>TextFilterList, TextFilterable and TextFilterator</h3>

<p>To add filtering to our issues browser, we first need to access the filter
text is for each list element. We can do this by implementing either the 
<code>TextFilterable</code> interface or the <code>TextFilterator</code> interface.
<code>TextFilterable</code> requires the filtered objects to include the method
<code>getFilterStrings()</code>. Alternatively, the <code>Filterator</code>
interface can be used to externally specify filter strings. For our issues
browser, we will implement <code>getFilterStrings()</code> in our Issue class.

<p><table cellpadding="5" cellspacing="0" width="100%" border="1" bgcolor="#EEEEEE"><tr><td><pre><code>public class Issue <font color="#FF3333">implements TextFilterable</font>, Comparable {
...
    /**
     * Gets the strings to filter this issue by.
     */
    <font color="#FF3333">public String[] getFilterStrings() {</font>
        return new String[] {
            status, priority, resolution, component, version, repPlatform,
            assignedTo, subcomponent, reporter, targetMilestone, issueType,
            qaContact, statusWhiteboard, operatingSystem, shortDescription
        };
    <font color="#FF3333">}</font>
...
}</code></pre></td></tr></table>

<h3>Adding the TextFilterList and its filter widget</h3>

<p>Just as we have transformed our source list to be sorted, we will transform the
sorted list to be filtered. The <code>JTable</code> will display the filtered list
which is already sorted. We will also add the filter editing <code>JTextField</code>
to our panel. 

<p><table cellpadding="5" cellspacing="0" width="100%" border="1" bgcolor="#EEEEEE"><tr><td><pre><code>    public void display() {
        // create a panel with a table
        JPanel panel = new JPanel();
        panel.setLayout(new GridBagLayout());
        SortedList issuesSortedList = new SortedList(issuesEventList);
        <font color="#FF3333">TextFilterList issuesTextFiltered = new TextFilterList(issuesSortedList);</font>
        EventTableModel issuesTableModel = new EventTableModel(issuesTextFiltered, new IssueTableFormat());
        JTable issuesJTable = new JTable(issuesTableModel);
        TableComparatorChooser tableSorter = new TableComparatorChooser(issuesJTable, issuesSortedList, true);
        JScrollPane issuesTableScrollPane = new JScrollPane(issuesJTable);
        panel.add(issuesTableScrollPane, new GridBagConstraints(...));
        panel.add(new JLabel("Filter: "), new GridBagConstraints(...));
        <font color="#FF3333">panel.add(issuesTextFiltered.getFilterEdit(), new GridBagConstraints(...));</font>
        
        // create a frame with that panel
        JFrame frame = new JFrame("Issues");
        frame.setDefaultCloseOperation(WindowConstants.EXIT_ON_CLOSE);
        frame.setSize(540, 380);
        frame.getContentPane().add(panel);
        frame.show();
    }
</code></pre></td></tr></table>


<p><img src="screenshot.png" width="540" height="380" alt="Issues Browser">

<h3>So What?</h3>
<p>We have added filtering to our issue browser without having
to be concerned with sorting, display or changes to the source list. 

<br><br><p><table cellpadding="0" cellspacing="0" width="100%" border="0"><tr>
<th align="left" width="30%"><a href="../part2/index.html">&lt;&lt; Part 2</a></th> 
<th align="center" width="40%"><a href="../index.html">Tutorial Home</a></th>
<th align="right" width="30%"><a href="../part4/index.html">Part 4 &gt;&gt;</a></th>
</tr></table><br><br><br>



</div>
</body>
</html>
